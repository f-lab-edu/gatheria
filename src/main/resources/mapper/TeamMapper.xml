<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gatheria.mapper.TeamMapper">

  <insert id="saveTeams" useGeneratedKeys="true" keyProperty="id" parameterType="list">
    INSERT INTO teams (name, lecture_id, created_at, updated_at)
    VALUES
    <foreach collection="list" item="team" separator=",">
      (#{team.name}, #{team.lectureId}, #{team.createdAt}, #{team.updatedAt})
    </foreach>
  </insert>

  <insert id="saveTeamMembers" parameterType="list">
    INSERT INTO team_members (team_id, student_id, lecture_id, created_at, updated_at)
    VALUES
    <foreach collection="list" item="member" separator=",">
      (#{member.teamId}, #{member.studentId}, #{member.lectureId}, NOW(), NOW())
    </foreach>
  </insert>

</mapper>